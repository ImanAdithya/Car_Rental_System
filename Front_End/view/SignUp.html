<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../assets/styles/SIgnUp.css">
    <link rel="stylesheet" href="../assets/styles/normalize.css">
    <link rel="stylesheet" href="../assets/css/bootstrap.css">

</head>
<body>
<section>
    <div id="form" class="container-fluid ">
        <h1>SIGN UP</h1>

        <form class="mt-5" id="userForm" role="form" action="/customer" enctype="multipart/form-data" method="post">

            <div class="row justify-content-between container-fluid mt-3">
                <div>
                    <input type="text" class="form-control" id="cusID" name="cusID" placeholder="CustomerID">
                </div>
            </div>

            <div class="row justify-content-between container-fluid mt-3">
                <div class=" col-6">
                    <input type="text" class="form-control" id="txtName" name="cusName" placeholder="Full Name">
                </div>
                <div class=" col-6">
                    <input type="text" class="form-control" id="txtUserName" name="userName" placeholder="UserName">
                </div>
            </div>

            <div class="row justify-content-between container-fluid mt-3">
                <div class=" col-6">
                    <input type="text" class="form-control" id="txtAddress" name="cusAddress" placeholder="Address">
                </div>
                <div class=" col-6">
                    <input type="text" class="form-control" id="txtContact" name="contact" placeholder="Contact">
                </div>
            </div>

            <div class="row justify-content-between container-fluid mt-3">
                <div>
                    <input type="text" class="form-control" id="txtEmail" name="cusEmail" placeholder="Email">
                </div>
            </div>

            <div class="row justify-content-between container-fluid mt-3">
                <div>
                    <input type="text" class="form-control" id="txtLicense" name="licenceNumber" placeholder="License Number">
                </div>
            </div>

            <div class="row justify-content-between container-fluid mt-3">
                <div class=" col-6">
                    <input type="text" class="form-control" id="txtPass" name="password" placeholder="Password">
                </div>
                <div class=" col-6">
                    <input type="text" class="form-control" id="txtConPass" placeholder="Confirm Password">
                </div>
            </div>

        <div class="row mt-5 justify-content-around">

            <div class="col-5">
                <div class="d-flex flex-column align-items-center">
                    <img src=""  alt="" style="width: 12vw;height: 14vh;background-color: #EFEFEF">
                    <label for="a" class="btn  btn-outline-dark form-label mt-3 btn-sm ">UPLOAD</label>
                    <input type="file" class="d-none" id="a" name="filePath_1">
                </div>
            </div>


            <div class="col-5">
                <div class="d-flex flex-column align-items-center">
                    <img src=""  alt="" style="width: 12vw;height: 14vh;background-color: #EFEFEF">
                    <label for="b" class="btn  btn-outline-dark form-label mt-3 btn-sm ">UPLOAD</label>
                    <input type="file" class="d-none" id="b" name="filePath_2">
                </div>
            </div>
        </div>

        <div class="mt-5 text-center d-grid gap-2 col-9 mx-auto">
            <button id="btnRegister" type="button" class="btn btn-primary">REGISTER</button>
        </div>

        </form>

    </div>
</section>

<script src="../assets/js/jquery-3.6.1.min.js"></script>
<script>

 // $('#btnRegister').click(function () {
 //     // let formData=$('#userForm').serialize(); //like this
 //      //this should be use if you are planning to send x-www-form url encoded data
 //
 //
 //     // this should be used when you need send multipart form data (which we used when we want to upload files)
 //     //let formData = new FormData($("#userForm")[0]);
 //     // contentType: false, // this is also should be done if you wanna upload files
 //     // processData: false, //this one also
 //
 //     //baically, if you wanna upload a file you can use muitipart from data type
 //     //other wise if you have small data -> you can use query string
 //     //if you have little bit big values then you can use x-www-form-urlencoded type
 //     //if you have complex data you can use application/json type
 //
 //     //got it.?
 //
 //     //ah hri hri mage form eka serilizable form data eken giye natte file uplaod thibba nisad?
 //     //ow oya yawala thibbe multipart form data type eka
 //     //ekai
 //
 //     //ah ekane ....api pissu waila idiye okkoma aya ....heee hee thankss....den dennm wedeeeee
 //     //ok
 //     // byeee
 //     ///byeeeeeeeee
 //
 //     $.ajax({
 //         url:'http://localhost:8080/Back_End_war/customer',
 //         method:'post',
 //         data:formData,
 //         //contentType: 'application/x-www-form-urlencoded; charset=utf-8',
 //          //contentType: false, // this is also should be done if you wanna upload files
 //          //processData: false, //this one also
 //         success:function (res) {
 //             alert(res+"Customer Added Success");
 //         },error:function (err) {
 //             alert("ERROR SOMETHING")
 //             console.log(err)
 //         }
 //     });
 // })

 $('#btnRegister').click(function () {

     let cusID = $('#cusID').val();
     let cusName = $('#txtName').val();
     let contact = $('#txtContact').val();
     let email = $('#txtEmail').val();
     let address = $('#txtAddress').val();
     let licenceNum = $('#txtLicense').val();
     let userName = $('#txtUserName').val();
     let password = $('#txtPass').val();

     let role="CUS";

     let customer={
        cusID:cusID,
        cusName:cusName,
        contact:contact,
        cusEmail:email,
        cusAddress:address,
        licenceNumber:licenceNum,
        user:{
            userName:userName,
            password:password,
            role:role,
        }
     }

     console.log(cusName);

     $.ajax({
         url:'http://localhost:8080/Back_End_war/customer',
         method:'POST',
         data : JSON.stringify(customer),
         contentType : 'application/json',
         header:'Access-Control-Allow-Origin',
         origin:'*',
         success:function (res) {
             alert("Customer SUCCUSS");
         },error:function (err) {
           alert(err+"ERROR");
         }
     })

 });

</script>
</body>
</html>